@using CMS
@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.Extensions.Localization
@inject IHtmlLocalizer<SharedResource> Localizer
@{

    List<Article> PhotoAlbum = new List<Article>();
    if (ViewBag.Gallery != null)
    {
        PhotoAlbum = ViewBag.Gallery;
    }


    ArticleType GalleryParent = new ArticleType();

    if (ViewBag.TitleGallery != null)
    {
        GalleryParent = ViewBag.TitleGallery;
    }


    ViewData["Title"] = "Gallery";
}



<header id="fsHeader" class="fsHeader">
    <div id="modal" class="modal">
        <span id="modal-close" class="modal-close">×</span>
        <img id="modal-content" class="modal-content">
        <div id="modal-caption" class="modal-caption"></div>
    </div>


    <div class=" fsBanner fsStyleAutoclear" id="fsEl_105048" data-settings-id="104258" data-use-new="true">

        <div class="fsElement fsContainer hero-combo hero-offset hero-green-grey hero-texture" id="fsEl_117208" style="    min-height: 50vh;
    background-position: center top;
background-image:url('@(GalleryParent.FullImagePath)_1920x1080.webp')" data-use-new="true" has-breadcrumbs="" has-content="" columns="" resource="" updated="">

            <div class="fsElementContent">
                <div class="fsElement fsNavigation fsBreadcrumb" id="fsEl_117209" data-use-new="true">

                    <div class="fsElementContent">
                        <nav aria-label="breadcrumbs">
                            <ul>
                                <li aria-current="location">
                                    <a href="@(ViewBag.Theme == "ar"? "/ar":"/en")/Home/Index">@Localizer["Home"]</a> <span aria-hidden="true" class="fsNavBreadcrumbSeperator">&gt;</span>
                                </li>
                                <li>
                                    @GalleryParent.Name
                                </li>
                                @*                                                    <li>
                                <a href="../school-websites.html">School Websites</a> <span aria-hidden="true" class="fsNavBreadcrumbSeperator">&gt;</span>
                                </li>*@


                            </ul>
                        </nav>

                    </div>


                </div>
                <div class="fsElement fsLayout fsTwoColumnLayout fsStyleAutoclear" id="fsEl_117210" data-use-new="true">

                    <div class="fsDiv fsStyleColumn fsStyleColumn-1 fsStyleAutoclear" id="fsEl_117211">

                        <div class="fsElement fsContent" id="fsEl_117212" data-use-new="true">

                            <div class="fsElementContent">
                                <h1>@GalleryParent.Name</h1>
                                <span class="fs_style_96">@Html.Raw(GalleryParent.Description)</span>

                            </div>
                        
                        </div>




                    </div>
                    <div class=" fsDiv fsStyleColumn fsStyleColumn-2 fsStyleColumn-last fsStyleAutoclear" id="fsEl_117213">

                        <div class="fsElement fsResourceElement fsSingleItem resource-shadow" id="fsEl_117214" data-use-new="true" data-source-element-id="117214" data-source-page-id="6977">

                            <div class="fsElementContent">
                                <article class="fsResource fsResourceTypeImage">
                                    <figure>
                                        <picture>
                                            <img alt="Image Main Gallery d-none" style="display:none" data-aspect-ratio="0.6432291666666666" style="" src="/@(GalleryParent.FullImagePath)_800x500.webp" />
                                        </picture>
                                    </figure>
                                </article>
                            </div>


                        </div>




                    </div>





                </div>



            </div>


        </div>



    </div>


</header>

<div id="fsPageWrapper pt-0">
    <div id="fsPageBodyWrapper" class="fsPageBodyWrapper">
        <div id="fsPageBody" class="fsStyleAutoclear fsPageBody">

            <main id="fsPageContent" class="fsPageContent" style="outline:none;">

                <div class="fsPageLayout fsLayout fsOneColumnLayout fsStyleAutoclear" id="fsEl_105783" data-use-new="true">

                    <div class=" fsDiv fsStyleAutoclear alignment-fix-gallery-container" id="fsEl_105784">


                        <div class=" fsElement fsContent mt-70px mb-70px  max-width-1450" style="width:100%" id="fsEl_117803" data-use-new="true">

                            <div class="fsElementContent fsStyleTwoThirds">
                                <h1 style="">

                                    @GalleryParent.Name
                                </h1>

                                <p style="">
                                    <span class="fs_style_96 ">
                                        @Html.Raw(GalleryParent.Description)
                                    </span>
                                </p>


                            </div>
                        </div>

                        <div class="fsElementContent" style="width:100%">

                            <div class="fsElement fsPostElement fsGrid custom-post-filter-results-grey fsThumbnailXLarge fsItemCount_15" id="fsEl_130621" data-use-new="true" data-trigger-element-ids="[130614, 130617, 130611]" data-overwrite-title="">


                                <div class="fsElementContent">
                                    @*    data Gallery   *@

                                    <div class="fsListItems fsStyleThreeColumns">
                                        @foreach (Article item in PhotoAlbum)
                                        {
                                            <article class="fsStyleAutoclear fsBoard-182 fsCategory-401 has-image" data-post-id="14282" data-authenticated-comments="true" aria-labelledby="fsArticle_130621_14282">

                                                <a class="fsThumbnail fsPostLink fsPostBackgroundThumbnail" data-opens-in="page"
                                               data-page-id="7256" data-aspect-ratio="0.6666666666666666"
                                               alt=" image" style="background-image: url(&quot;/@(item.FullImagePath)_600x600.webp&quot;);" aria-hidden="true" tabindex="-1">
                                                    <img data-aspect-ratio="0.6666666666666666" alt="you got this sign" style="" src="/@(item.FullImagePath)_488x488.webp">
                                                </a>
                                                @*src="~/assets/img/@(item.ThumbURL)_288x288.webp"*@
                                               <div class="fsTitle" id="fsArticle_130621_142822">
                                                    <a class="fsPostLink" data-opens-in="page" data-page-id="" href="" target="_blank"> 

                                                        @item.Name
                                                    </a>


                                                </div>
                                            </article>
                                        }
                                    </div>

                                </div>

                            </div>

                        </div>

@*
                        <div class="j-content-c d-flex mb-70px">
                            <button name="button" type="button" class=" fsLoadMoreButton fsStyleDefaultButton" data-start-row="16">Load More</button>

                        </div>*@

                    </div>
                </div>
            </main>

        </div>
    </div>
</div>



<script>
    // Modal Setup
    var modal = document.getElementById('modal');
    var modalImage = document.getElementById('modal-content')

    var modalClose = document.getElementById('modal-close');
    modalClose.addEventListener('click', function () {
        modal.style.display = "none";
    });

    // hide the modal whenever you click outside the image
    document.addEventListener('click', function (e) {
        if (e.target !== modalImage) {
            modal.style.display = "none";
        }
    });

    // hide the modal when esc is pressed
    document.addEventListener("keydown", function (e) {
        if (e.keyCode == 27) {
            modal.style.display = "none";
        }
    });

    // global handler
    document.addEventListener('click', function (e) {
        if (e.target.className.indexOf('modal-target') !== -1) {

            var img = e.target;
            var modalImg = document.getElementById("modal-content");
            var captionText = document.getElementById("modal-caption");
            modal.style.display = "block";
            modalImg.src = img.src;
            captionText.innerHTML = img.alt;
        }
    });

</script>



